/* Warning! the file is auto generated by system. */
function JR(){this.VERSION="4.0";this.WORKPATH="";this._init=function(a){var b=document.getElementsByTagName("SCRIPT");var s=b[b.length-1];var c=s.src;this.WORKPATH=c.replace(/(\/)[^/]+$/,"$1");a&&__extendingJsPrototype__();return this};this.selector={finds:function(a,b){a=a.replace(/^\s|\s$/g,"").replace(/\s+/," ");var c=b&&b.nodeName?[b]:b||[document];var d=a.split(" ");return this.walk(c,d,0)},findBy:function(a,b){var c=[];for(var i=0;i<a.length;i++){var d=b(a[i])||[];for(var j=0;j<d.length;j++){c.push(d[j])}}return c},walk:function(a,b,c){var d=[];var f=b[c];switch(f[0]){case"#":d=this.findBy(a,function(){var e=document.getElementById(f.substring(1));return e?[e]:[]});break;case".":d=this.findBy(a,(function(t){return function(p){return p.getElementsByClassName(f.substring(1))}})(this));break;default:d=this.findBy(a,function(p){return p.getElementsByTagName(f)});break}if(c<b.length-1){return this.walk(d,b,c+1)}return d},};this.fn={_eventArray:["abort","blur","change","click","dblclick","error","focus","keydown","keypress","keyup","load","mousedown","mousemove","mouseout","mouseover","mouseenter","mouseup","touchstart","touchmove","touchend","touchcancel","reset","resize","select","submit","unload",],g:{},eleList:[],fnList:null,fnProps:{check:["checked",true],disabled:["disabled",true],uncheck:["checked",false],},aniFn:["fadeIn","fadeOut","fadeTo","fadeToggle","slideUp","slideDown","slideToggle",],_fn:function(a){return this.create(a,this.g)},extend:function(a){return this.g.extend.apply(this,a)},create:function(a,g){return Object.create(this).init(a,g)},init:function(e,g){this.g=g;this.fnList=null;if(typeof e=="string"){this.eleList=this.g.selector.finds(e)}else if(e instanceof Array||e instanceof HTMLCollection){this.eleList=e}else if(e.nodeName){this.eleList=[e]}var f=this;this.g.each(this._eventArray,function(i,e){f[e]=(function(e){return function(a,b){return f.event(e,a,b!=false)}})(e)});for(var k in this.fnProps){this[k]=(function(k,a){return function(){return a._rawCaller(function(e){var p=a.fnProps[k];e[p[0]]=p[1]})}})(k,this)}this.g.each(this.aniFn,function(i,d){f[d]=(function(c,j){return function(a,b){return j._caller(function(e){j.g.animation[c](e,a,b)})}})(d,f)});return this},_single:function(){if(this.len()>0){return this.eleList[0]}return null},_chkFnList:function(){with(this){if(fnList)return;fnList=[];for(var i=0,j=len();i<j;i++){fnList.push(_fn([eleList[i]]))}}},_factFn:function(i,b){return(function(p){return function(a){b.apply(p,[a])}})(this.get(i))},each:function(a){this._chkFnList();this.g.each(this.fnList,a);return this},get:function(i){this._chkFnList();if(i>=0&&i<=this.fnList.length-1){return this.fnList[i]}return this._fn(null)},first:function(){return this.get(0)},last:function(){var l=this.len();return l==0?null:this.get(l-1)},_caller:function(c){for(var i=0,j=this.len();i<j;i++){c.call(this,this._fn(this.eleList[i]),i)}return this},_rawCaller:function(c){for(var i=0,j=this.len();i<j;i++){c.call(this,this.eleList[i],i)}return this},event:function(b,c,d){var f=this;return this._rawCaller(function(e,i){if(c){var a=f._factFn(i,c);if(d){this.g.event.add(e,b,a)}else{e["on"+b]=a}}else{e["on"+b]()}})},raw:function(){if(this.len()==1){return this.eleList[0]}return this.eleList},elem:function(){return this.raw()},len:function(){return this.eleList.length},find:function(a){var b=this.g.selector.finds(a,this.eleList);return this._fn(b)},parent:function(){var e=this._single();if(e){e=e.parentNode;return this._fn(e)}return null},prev:function(){var e=this._single().previousSibling;if(e)return this._fn(e);return null},next:function(){var e=this._single().nextSibling;if(e)return this._fn(e);return null},attr:function(a,v){if(v==null){if(a instanceof Object){for(var p in a){this._setAttr(p,a[p])}return this}var e=this._single();return e[a]||e.getAttribute(a)}this._setAttr(a,v);return this},_setAttr:function(a,v){var b=typeof v=="boolean"||a==="value"||a.indexOf("inner")==0||a.indexOf("scroll")==0||a.indexOf("offset")==0;return this._rawCaller(function(e){b?(e[a]=v):e.setAttribute(a,v)})},removeAttr:function(a){return this._rawCaller(function(e){e.removeAttribute(a)})},css:function(a){if(!(a instanceof Object)){var e=this._single();return e.currentStyle||document.defaultView.getComputedStyle(e,null)}for(var s in a){var b=s.split("-");for(var i=1;i<b.length;i++){b[i]=b[i].replace(b[i].charAt(0),b[i].charAt(0).toUpperCase())}var c=b.join("");this._rawCaller(function(e){e.style[c]=a[s]})}return this},hasClass:function(c){var a=new RegExp("(\\s|^)"+c+"(\\s|$)");return this._single().className.match(a)?true:false},addClass:function(c){return this.each(function(i,e){if(!e.hasClass(c))e.raw().className+=" "+c})},removeClass:function(c){var a=new RegExp("(\\s|^)"+c+"((\\s)|$)");this._rawCaller(function(e){e.className=e.className.replace(a,"$3")});return this},position:function(){return this._single().getBoundingClientRect()},html:function(v){return this.attr("innerHTML",v)},text:function(v){return this.attr("innerText",v)},before:function(a){return this._rawCaller(function(e){e.parentNode&&e.parentNode.insertBefore(a,e)})},after:function(a){return this._rawCaller(function(e){e.parentNode&&e.parentNode.insertBefore(a,e.nextSibling)})},append:function(e){return this._rawCaller(function(p){if(e.raw)p.appendChild(e.raw());else if(e.nodeName)p.appendChild(e);else if(typeof e=="string")p.innerHTML+=e})},appendTo:function(e){e.append(this)},val:function(v){if(v==null)return this.attr("value");this.attr("value",v);return this},remove:function(){var a=this;this.fnList=null;return this._rawCaller(function(e,i){a.eleList.remove(i);try{e.parentNode.removeChild(e);e.outerHTML=""}catch(err){console.log(err)}})},animate:function(a,b,c){this._caller.apply(this,[function(e){this.g.animation.animate(e,a,b,c)},])},};this.loadHTML=function(a,b){var c=/<body[^>]*>([\s\S]+)<\/body>/im;var d=/<script((.|\n)*?)>([\s\S]*?)<\/script>/gim;var f=b.match(c);if(f==null){f=["",b]}if(!a.nodeName)a=this.$(a).elem();if(a){try{a.innerHTML=f[1].replace(d,"").replace(/<style([^>]+)>/gi,'<span style="display:none" class="for-ie">_</span><style$1>');this.$fn(a).find(".for-ie").each(function(i,e){e.remove()});if(window.navigator.userAgent.indexOf("Chrome")!=-1){this.each(a.getElementsByTagName("STYLE"),function(i,e){a.removeChild(e);document.getElementsByTagName("HEAD")[0].appendChild(e)})}}catch(ex){if(window.console){console.log(ex.message)}}}var g=/^[\n\s]+$/g;var h=/type=["']*text\/javascript["']*/i;var j;d.lastIndex=0;while((j=d.exec(b))!=null){if(j[1].indexOf(" type=")==-1||h.test(j[1])){if(!g.test(j[3])){this.eval(j[3])}}}}}function __extendingJsPrototype__(){if(!String.prototype.len){String.prototype.len=function(a){return this.replace(a?/[\u0391-\uFFE5]/g:/[^x00-xff]/g,"00").length}}if(!Array.prototype.remove){Array.prototype.remove=function(a,b){var c=this.slice((b||a)+1||this.length);this.length=a<0?this.length+a:a;return this.push.apply(this,c)}}if(!Object.create){Object.create=function(o){function $(){}$.prototype=o;return new $()}}if(typeof HTMLElement!="undefined"){const prototype={getElementsByClassName:function(a){var b=this.getElementsByTagName("*");var c=new RegExp("\\s"+a+"\\s");var d=[];for(var i=0,j;(j=b[i]);i++){if(c.test(" "+j.className+" "))d.push(j)}return d},contains:function(a){while(a!=null&&typeof a.tagName!="undefined"){if(a==this)return true;a=a.parentNode}return false},computedStyle:function(){return(this.currentStyle||document.defaultView.getComputedStyle(this,null))},setStyle:function(a){var b={};for(var i in a){b[i]=this.style[i];this.style[i]=a[i]}return b},restoreStyle:function(a){for(var i in a)this.style[i]=a[i]},realEval:function(a){var b=this.setStyle({display:"inherit",visibility:"hidden",position:"absolute",height:"auto",width:"auto",});var c=a(this);this.restoreStyle(b);return c},};for(var p in prototype){HTMLElement.prototype[p]==undefined&&(HTMLElement.prototype[p]=prototype[p])}}if(!Date.prototype.format){Date.prototype.format=function(a){var o={"M+":this.getMonth()+1,"d+":this.getDate(),"Ｈ+":this.getHours(),"h+":this.getHours()%12,"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds(),};if(/(y+)/.test(a)){a=a.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))}for(var k in o){if(new RegExp("("+k+")").test(a)){a=a.replace(RegExp.$1,RegExp.$1.length==1?o[k]:("00"+o[k]).substr((""+o[k]).length))}}return a}}}JR.prototype={request:function(a,b){return this.param(a,b)},path:function(){var a=location.domain||"";var b=location.href;a=b.substring(b.indexOf(a)+a.length);return a.substring(a.indexOf("/"))},param:function(a,b){var c=new RegExp("(\\?|&)"+a+"=([^&]+)&*").exec(b||location.href);return c?c[2]:""},eval:function(a){if(window.execScript){window.execScript(a)}else{var b=document.createElement("SCRIPT");b.setAttribute("type","text/javascript");b.text=a;document.head.appendChild(b);document.head.removeChild(b)}return a},each:function(a,b){if(!a)return;for(var i=0;i<a.length;i++)b(i,a[i])},template:function(a,b){if(b instanceof Object){for(var n in b){var c=new RegExp("%"+n+"%|{"+n+"}");a=a.replace(c,b[n])}}return a},extend:function(a){if(a&&a instanceof Object){for(var b in a){this[b]==undefined&&(this[b]=a[b])}}return this},$fn:function(a){return this.$(a)},$:function(a){return this.fn.create(a,this)},};JR.prototype.animation={speedSet:{slow:10,normal:6,fast:3},_titAttr:function(a){var b=a.split("-");for(var i=1;i<b.length;i++){b[i]=a[i].replace(b[i].charAt(0),b[i].charAt(0).toUpperCase())}return b.join("")},_ani:function(d,e,f,g,h){if(typeof e!="integer"){e=this.speedSet[e||"normal"]}var i=0;var j=setInterval(function(){var a=f();var b=(d-a)/e;b=b>0?Math.floor(b):Math.ceil(b);var c=i>0&&i<Math.abs(b);if(Math.abs(b)==0||c){clearInterval(j);g(d);if(h instanceof Function)h()}else{g(a+b);i=Math.abs(b)}},20);return j},animate:function(d,f,g,h){var e=d.raw?d.raw():d;var i=e.computedStyle();var j={};var k=function(e,a,b){return function(){if(b==="opacity"){return e["filters"]?e["filters"]["opacity"]:parseFloat(a["opacity"])*100}return parseFloat(a[b])}};var l=function(e,a){return function(v){if(a==="opacity"){e["filters"]?(e["filters"]["opacity"]=v):(e.style[a]=v/100)}else{e.style[a]=v+"px"}}};var m=(function(t,b,c){return function(){for(var a in j){if(k(e,i,a)()!=j[a])return}if(c&&c instanceof Function)c.apply(b,[])}})(this,d,h);for(var n in f){var o=this._titAttr(n);var p=k(e,f,o)();j[o]=p;this._ani(p,g,k(e,i,o),l(e,o),m)}},toggle:function(e,a,b){e=e.raw?e.raw():e;e.style["overflow"]="hidden";var c=e.realEval(function(e){return[e.clientWidth,e.clientHeight]});var d=c[0];var f=c[1];var g=1;if(f==e.offsetHeight){d=0;f=0;g=0}this.animate(e,{width:d+"px",height:f+"px",opacity:g,},a,b)},fadeTo:function(e,o,a,b){this.animate(e,{opacity:o},a,b)},fadeIn:function(e,a,b){this.fadeTo(e,1,a,b)},fadeOut:function(e,a,b){this.fadeTo(e,0,a,b)},fadeToggle:function(e,a,b){var d=e.raw?e.raw():e;var c=d.computedStyle();var f=parseFloat(d.filters?d.filters["opacity"]:c["opacity"]);this.fadeTo(d,f<1?1:0,a,b)},slideDown:function(e,a,b){var c=e.raw?e.raw():e;var d=c.realEval(function(e){return e.clientHeight});this.animate(c,{height:d+"px"},a,b)},slideUp:function(e,a,b){this.animate(e,{height:"0"},a,b)},slideToggle:function(e,a,b){var c=e.raw?e.raw():e;var d=c.realEval(function(e){return e.clientHeight});var f=c.offsetHeight;this.animate(c,{height:(f!=d?d:0)+"px",},a,b)},};JR.prototype.cookie={write:function(a,b,c,d,e,f){var g=c?new Date(new Date().getTime()+c):null;this.set(a,b,g,d,e,f)},set:function(a,b,c,d,e,f){document.cookie=a+"="+escape(b)+(c?"; expires="+c.toGMTString():"")+(d?"; path="+d:"")+(e?"; domain="+e:"")+(f?"; secure":"")},remove:function(a){this.write(a,"",-9)},read:function(a){var b="";var c=a+"=";if(document.cookie.length>0){var d=document.cookie.indexOf(c);if(d!==-1){d+=c.length;var e=document.cookie.indexOf(";",d);if(e===-1)e=document.cookie.length;b=unescape(document.cookie.substring(d,e))}}return b},};JR.prototype.event={add:function(a,b,c,d){if(!a.attachEvent&&!a.addEventListener){alert("event error! parameter:"+ele+",event:"+b);return}document.attachEvent?a.attachEvent("on"+b,c):a.addEventListener(b,c,d||true)},remove:function(a,b,c,d){document.detachEvent?a.detachEvent("on"+b,c):a.removeEventListener(b,c,d||true)},src:function(a){var e=a?a:window.event;return e.target||e.srcElement},getTarget:function(a){var e=a?a:window.event;return e.target||e.srcElement},getRelatedTarget:function(a){if(a.relatedTarget)return a.relatedTarget;if(a.toElement)return a.toElement;if(a.fromElement)return a.fromElement;return null},stopBubble:function(a){a=a||window.event;a.cancelBubble=true;if(a.stopPropagation){a.stopPropagation()}},preventDefault:function(a){a=a||window.event;if(a.preventDefault){a.preventDefault()}else{a.returnvalue=false}},};var paramsToString=function(a){if(a instanceof Object){var b="";var i=0;for(var c in a){if(i++!==0){b+="&"}b+=c+"="+encodeURIComponent(a[c])}return b}return a};JR.prototype.xhr={maxRequest:4,filter:function(a,b,c){if(a==2){var d=/<title>(.+)<\/title>/.exec(c);if(d&&d.length>0){alert(d[1]);return false}}return true},httpStack:null,procStack:[],init:function(){if(this.httpStack)return;this.httpStack=[];for(var i=0;i<this.maxRequest;i++){this.httpStack[i]={state:0,http:new XMLHttpRequest(),}}},getUrl:function(a,b,c){if(a==null||a=="")a=location.href;if(b=="GET"&&c!=false&&a.indexOf("#")==-1){a=this.urlJoin(a,"rd="+Math.random())}return a},_doRequest:function(f,g){this.init();var h=(f.method||"GET").toUpperCase();var i={body:"",url:this.getUrl(f.url,h,f.random),form:f.form,data:f.data||"",method:h,async:f.async===false?false:f.async||true,call:g,};if(this.filter&&!this.filter(0,i)){return false}var j=function(c,d,e){c.state=1;c.http.open(e.method,e.url,e.async);c.http.withCredentials=true;c.http.onreadystatechange=function(){if(c.http.readyState===4){if(c.http.status===200){c.state=0;d.procStack.pop();if(d.filter&&!d.filter(1,e,c.http.responseText)){return false}if(e.call.success){var a=c.http.responseText;if(a.startsWith("<?xml")){e.call.success(c.http.responseXML);return}var b=/^({(.*)}|\[(.*)\])(\s|\n)*$/g.test(a);e.call.success(b?JSON.parse(a):a)}}else if(e.call.error){c.state=0;d.procStack.pop();if(d.filter&&!d.filter(2,e,c.http.responseText)){return false}if(e.call.error)e.call.error(c.http.responseText)}}return true};if(["GET","HEAD"].indexOf(e.method)==-1){if(e.form){e.body=paramsToString(e.form);c.http.setRequestHeader("Content-Type","application/x-www-form-urlencoded")}else{e.body=JSON.stringify(e.data);c.http.setRequestHeader("Content-Type","application/json")}}c.http.send(e.body)};this._processReq(i,j)},_processReq:function(a,b){var c=setInterval((function(t){return function(){if(t.procStack.length<t.maxRequest){t.procStack.push(0);for(var i=0;i<t.maxRequest;i++){if(t.httpStack[i].state===0){try{b(t.httpStack[i],t,a)}catch(exc){if(a.call.error)a.call.error("request may be blocked!")}break}}clearInterval(c)}}})(this),20)},_callback:function(a,b){return{success:function(r){if(a&&a instanceof Function)a(r)},error:function(r){if(b&&a instanceof Function)b(r)},}},get:function(a,b,c){this._doRequest(a instanceof Object?this.getUrl(a):{url:a},this._callback(b,c))},post:function(a,b,c,d){this._doRequest({url:a,method:"POST",form:typeof b==="string"?b:null,data:b,},this._callback(c,d))},request:function(a,b,c){this._doRequest({url:a,method:b.method,form:b.form,params:b.params,data:b.data,},this._callback(c.success,c.error))},urlJoin:function(a,b){return a+(a.indexOf("?")==-1?"?":"&")+b},jsonp:(function(j){return function(c,d,e){d=d||{};var s=document.createElement("SCRIPT");var h="$callback_"+(10000+parseInt(Math.random()*90000));d["callback"]=h;j[h]=(function(g,t,s,f,b){return function(a){t._jsonpGC(g,f,s);b(a)}})(j,this,s,h,e);s.setAttribute("src",this.urlJoin(c,paramsToString(d)));var i=(function(g,t,s,f,a){return function(){t._jsonpGC(g,f,s);a("jsonp : Invalid JSON data returned!",1)}})(j,this,s,h,e);if(document.attachEvent){s.attachEvent("onerror",i)}else{s.addEventListener("error",i,true)}document.getElementsByTagName("head")[0].appendChild(s)}})(window),_jsonpGC:function(a,b,e){try{delete a[b]}catch(ex){a[b]=null}e.parentNode.removeChild(e)},};JR.prototype.loadScript=function(a,b,c){var d=null;var e=document.documentElement.getElementsByTagName("HEAD");if(e.length!=0)d=e[0];else d=document.body;var f=d.getElementsByTagName("SCRIPT");var g=0;for(var i=0;i<f.length;i++){if(f[i].getAttribute("src")&&f[i].getAttribute("src").toLowerCase()==a.toLowerCase()){g=1}}if(!g){var h=document.createElement("SCRIPT");if(b)h.onreadystatechange=h.onload=b;if(c)h.onerror=c;h.setAttribute("type","text/javascript");h.setAttribute("src",a);d.appendChild(h)}};JR.prototype.load=function(c,d,e,f){(function(b){b.xhr.get(d,function(a){b.loadHTML(c,a);e&&e(a)},f)})(this)};var $js=new JR()._init(true);if(window.module)module.exports=$js;JR.prototype.ie6=function(){return/MSIE\s*6\.0/.test(window.navigator.userAgent)};JR.prototype.lazyRun=function(a,b){if(a){setTimeout(a,b||120)}};$js.extend({screen:{width:function(){return Math.max(document.body.clientWidth,document.documentElement.clientWidth)},height:function(){return Math.max(document.body.clientHeight,document.documentElement.clientHeight)},offsetWidth:function(){return Math.max(document.body.offsetWidth,document.documentElement.offsetWidth)},offsetHeight:function(){return Math.max(document.body.offsetHeight,document.documentElement.offsetHeight)},},getPosition:function(e){return(e.nodeName?e:this.$(e)).getBoundingClientRect()},});$js.extend({dom:{fitHeight:function(e,a){var b=e.parentNode;var c=e.nextSibling;var d=/;(\s*)height:(.+);/gi;var f=(b==document.body?Math.max(document.body.clientHeight,document.documentElement.clientHeight):b.offsetHeight)-e.offsetTop;while(c){if(c.nodeName[0]!="#"){f-=c.offsetHeight}c=c.nextSibling}f-=a||0;if(d.test(e.style.cssText)){e.style.cssText=e.style.cssText.replace(d,"; height:"+f+"px;")}else{e.style.cssText+="height:"+f+"px;"}},},});(function(r){var o=$js;if(r){r(function(){return o})}else{window.$b=o;window.$jr=o}})(window.define);


$js.extend({ json: { prefix: 'field', _objreg: /(.+)\[([^\]]+)\]/, _dtReg: /^(\d{4}((\/|-)\d{2}){2})T(\d{2}(:\d{2}){2})((\.\d+)*)$/i, _each: function (a, b) { for (var i = 0; i < a.length; i++) { if (b) b(i, a[i]) } }, _getFields: function (b) { var c = this.prefix; var d = {}; var f; var g, subProName, proValue; if (!b.nodeName) b = document.getElementById(b); var h = this._objreg; this._each(b.getElementsByTagName('*'), function (i, e) { if (e.nodeName != '#text' && e.nodeName != '#comment') { g = e.getAttribute(c); if (g) { if (h.test(g)) { var a = h.exec(g); g = a[1]; subProName = a[2]; if (d[g] == null) { d[g] = {} } d[g][subProName] = e } else { d[g] = e } if (!e.name) e.setAttribute('name', c + '_' + g) } } }); return d }, _bindField: function (a, b) { if (this._dtReg.test(b)) { var c = this._dtReg.exec(b); if (c[4] == '00:00:00') { b = b.replace(this._dtReg, '$1') } else { b = b.replace(this._dtReg, '$1 $4') } } switch (a.nodeName) { case 'TEXTAREA': case 'INPUT': switch (a.type) { default: a.value = b; break; case "radio": var d = document.getElementsByName(a.name); for (var i = 0; i < d.length; i++) { d[i].checked = d[i].value == b } break; case 'checkbox': var e = false; if ((b == true && b.toString() != '1') || b == a.value) { e = true } else if (b instanceof Array) { for (var i in b) { if (b[i] == a.value) { e = true; break } } } a.checked = e; break }break; case 'IMG': a.src = b; break; case 'SELECT': a.value = b; break; default: a.innerHTML = b; break } }, _getFieldVal: function (a) { var b = ''; switch (a.nodeName) { case 'TEXTAREA': case 'INPUT': switch (a.type) { default: b = a.value; break; case 'radio': var c = document.getElementsByName(a.name); for (var i = 0; i < c.length; i++) { if (c[i].checked) { b = c[i].value; break } } break; case 'checkbox': b = a.checked ? a.value : ''; break }break; case 'IMG': b = a.src; break; case 'SELECT': b = a.selectedIndex == -1 ? '' : a.options[a.selectedIndex].value; break; default: b = a.innerHTML; break }return b }, bind: function (a, b, c) { var d; var e; var f; d = this._getFields(a); for (var g in d) { e = d[g]; if (c && c instanceof Function) { f = c(g, b[g]) } else { f = b[g] } if (f != null) { if (f instanceof Object) { if (f.length) { for (var i in e) { this._bindField(e[i], f) } } else { for (var i in f) { if (e[i]) { this._bindField(e[i], f[i]) } } } continue } this._bindField(e, f) } } }, __convert: function (a, b, c) { var d; var e; var f; var g = {}; var h = ''; d = this._getFields(a); for (var k in d) { e = d[k]; if (e.nodeName) { f = this._getFieldVal(e); if (c && c instanceof Function) { f = c(k, f) } g[k] = f; h += k + '=' + f + '&' } else { g[k] = {}; var j = 0; var l = false; for (var i in e) { if (j++ == 0 && /^\d+$/.test(i)) { g[k] = []; l = true } if (e[i]) { f = this._getFieldVal(e[i]); if (c && c instanceof Function) { f = c(k, f) } if (f && f != '') { if (l) { g[k].push(f) } else { g[k][i] = f } } h += k + '[' + i + ']=' + f + '&' } } } } return b == "object" ? g : h.replace(/&$/g, '') }, toObject: function (a) { return this.__convert(a, 'object') }, toQueryString: function (a) { return this.__convert(a, 'string') }, toString: function (a) { return this.__convert(a, 'string').replace(/&/g, ';').replace(/=/g, ':') }, string: function (o) { var a = this; var b = []; var c = function (s) { if (typeof s == 'object' && s != null) a.string(s); return /^(string|number)$/.test(typeof s) ? "'" + s + "'" : s }; for (var i in o) { if (o.hasOwnProperty(i)) { var d = c(o[i]); if (d.pop) { b.push("'" + i + "':[\'" + escape(d.join('\',\'')) + '\']') } else { b.push("'" + i + "':" + escape(d)) } } } return '{' + escape(b.join(',')) + '}' } } });


var DialogText={ALERT_MSG_TPL:'<div class="ui-alert-message">'+'<span class="alert-icon alert-icon-{icon}"></span>{msg}</div>',ALERT_BTN_TPL:'<input type="button" tag="{tag}" value="{text}"/>',ALERT_ALL_TITLE:'提示',ALERT_BTN_OK_TEXT:'确定',ALERT_BTN_CANCEL_TEXT:'取消'};function simpleDialog(a){this.window=window;this.opts={initialized:false,id:parseInt(1000+Math.random()*8999+(new Date()).valueOf()%1000),title:' ',drag:!false,className:"gra-modal ui-dialog ui-modal",setupFade:false,canNotClose:false,onclose:null,cross:!false,textArr:DialogText,};this.eles={panel:null,con:null,box:null,};this.win=window;this.doc=null;for(var i in a){if(a[i]){this.opts[i]=a[i]}}if(this.opts.cross!=false){while(this.win.parent!=this.win){this.win=this.win.parent}}this.doc=this.win.document}simpleDialog.prototype={newElement:function(a,b){var e=document.createElement(a);for(i in b){e.setAttribute(i,b[i])}return e},_initialize:function(){with(this.opts){if(initialized){return false}var a=this.doc;var b='position:fixed;top:0;left:0;bottom:0;right:0;margin:auto';this.eles.panel=this.newElement('DIV',{"class":className,});a.body.appendChild(this.eles.panel);this.eles.panel.appendChild(this.newElement('DIV',{"class":'dialog-mask mask',"style":'z-index:99;'+b}));var c='z-index:100;'+b;this.eles.box=this.newElement('DIV',{"class":'modal box',"style":c});this.eles.panel.appendChild(this.eles.box);if(title){var e='<span class="left corner" style="position:absolute;left:0;top:0">&nbsp;</span><span class="txt">'+title+'</span>';if(!canNotClose){e+='<span class="close" style="position:absolute;right:5px;top:0;">'+'<i class="fa fa-times" aria-hidden="true"></i></span>'}e+='<span class="right corner" style="position:absolute;right:0;top:0">&nbsp;</span>';var f=this.newElement('DIV',{"class":'title',"style":'user-select:none;-ms-user-select:none;-moz-user-select:none;-webkit-user-select:none;'});f.innerHTML=e;this.eles.box.appendChild(f);f.getElementsByTagName('SPAN')[2].onclick=(function(d){return function(){d.close()}})(this);this.win['dialog_'+this.id]=this;if(drag){new dragObject(f,this.win).start(this.eles.box)}}this.eles.con=this.newElement('DIV',{"class":'content con'});this.eles.box.appendChild(this.eles.con);if(title){var g=a.createElement("div");g.className='bottom';g.style.cssText="position:relative;";g.innerHTML='<span class="left corner" style="position:absolute;left:0;">&nbsp;</span><span class="txt">&nbsp;</span><span class="right corner" style="position:absolute;right:0;">&nbsp;</span>';this.eles.box.appendChild(g)}initialized=true}},getPanel:function(){return this.eles.panel},hiddenBox:function(){with(this.eles.box){style.visibility='hidden';style.left='inherit';style.bottom='inherit'}},showBox:function(){with(this.eles.box){style.visibility='';style.width=offsetWidth+'px';style.height=scrollHeight+'px';style.left='0';style.bottom='0'}},getFrameWindow:function(){var a=this.eles.panel.getElementsByTagName('IFRAME');if(a.length>0){return a[0].contentWindow}return null},getTargetWindow:function(){return this.win},getWindow:function(){return this.window},callback:function(a,b){var f=this.getWindow()[a];if(f&&f instanceof Function){f(b)}},open:function(a,b,c,d){this._initialize();this.hiddenBox();if(a.length>0&&a[0]!='/'&&a.indexOf('//')!=0&&a.indexOf('https://')==-1&&a.indexOf('http://')==-1){var e=this.getWindow().location.pathname;a=e.substring(0,e.lastIndexOf('/')+1)+a}this.eles.con.innerHTML+="<iframe frameborder='0' scrolling='"+(d||'auto')+"' src='"+a+"' width='"+(b||'100%')+"' style='padding:0' height='"+(c||'100%')+"'></iframe>";this.showBox()},write:function(a){this._initialize();this.hiddenBox();var b=this.eles.con;if(!this.opts.title){b.innerHTML=a}else{b.innerHTML+=a}this.showBox()},async:function(a,b,c,d){return this.load(a,b,c,d)},load:function(a,b,c,e){this._initialize();this.hiddenBox();var f=jr.xhr;var g=(function(d){return function(x){jr.loadHTML(d.eles.con,x);d.showBox();if(e)e(x)}})(this);if(!b||b.toLowerCase()=="get"){f.get(a,g)}else{f.post(a,c,g)}},custom:function(p){this._initialize();this.hiddenBox();var d=this;d.write(jr.template(this.opts.textArr.ALERT_MSG_TPL,{msg:p.message,icon:p.icon}));var b='';for(var i=0;i<p.buttons.length;i++){var e=p.buttons[i];if(e&&e.tag){b+=jr.template(this.opts.textArr.ALERT_BTN_TPL,{tag:e.tag,text:e.text})}}var c=Math.floor(Math.random()*10000);d.write('<div class="ui-alert-control" id="ui-alert-control-'+c+'">'+b+'</div>');this.showBox();var f=d.getTargetWindow().document.getElementById('ui-alert-control-'+c);var g=f.getElementsByTagName('INPUT');for(var i=0;i<g.length;i++){if(i===0){g[i].focus()}g[i].onclick=(function(d,p){return function(){var a=this.getAttribute('tag');if(p.click&&p.click instanceof Function){if(p.click(a,d)){d.close()}}else{d.close()}}})(d,p)}return d},closeDialog:function(){this.win.document.body.removeChild(this.eles.panel)},close:function(a){if(this.opts.onclose!=null&&this.opts.onclose()==false){return false}this.closeDialog();if(a)a();try{delete this.win['dialog-'+this.id]}catch(ex){this.win['dialog-'+this.id]=null}this.opts.initialized=false}};function dragObject(a,b){this.elem=a;this.win=b}dragObject.prototype.regist=function(a,b,c,d){var o=this.elem;a=a?a:o;var f,sy;var g=this.win==null?g:this.win.document;o.style.cursor=b||"move";var h=c||function(e){e=e||event;window.getSelection?window.getSelection().removeAllRanges():g.selection.empty();if(e.preventDefault)e.preventDefault();with(a.style){position="absolute";margin='inherit';left=e.clientX-f+"px";top=e.clientY-sy+"px"}};jr.event.add(o,"mousedown",function(e){e=e||event;if(e.button==1||e.button==0){f=e.clientX-a.offsetLeft;sy=e.clientY-a.offsetTop;jr.event.add(g,'mousemove',h,false);jr.event.add(g,'mouseup',i,false)}},false);var i=function(){jr.event.remove(g,'mousemove',h,false);jr.event.remove(g,'mouseup',i,false);if(d&&d instanceof Function)d()}};dragObject.prototype.custom=function(a,b,c,d){return this.regist(a,b,c,d)};dragObject.prototype.start=function(a){this.regist(a,null,null,null)};var SimpleDialog={create:function(a){return new simpleDialog(a)},create2:function(a,b,c,d,e){return new simpleDialog({title:a,drag:b||false,cross:c||false,"className":e,onclose:d})},getDialog:function(){var b=null;var c=/^dialog_/i;var e=window;var f=function(a){var d=null;for(var i in a){if(c.test(i)&&a[i]!=null){d=a[i];break}}return d};do{b=f(e);if(b==null){e=e.parent;b=f(e)}if(b){break}}while(e.parent!=e);return b},close:function(){var d=this.getDialog();if(d)d.close()},customAlert:function(p){var a=DialogText.ALERT_ALL_TITLE+'-'+(p.title||'');a=a.replace(/^-|-$/g,'');var d=this.create({title:a,className:"ui-dialog custom-dialog",drag:p.drag||true,cross:p.cross||true,canClose:false});return d.custom(p)},alert:function(a,b,c,d){return this.customAlert({icon:c,message:a,buttons:[{tag:'ok',text:d||DialogText.ALERT_BTN_OK_TEXT}],click:function(){if(b instanceof Function)b();return true}})},confirm:function(b,c,d){var e=DialogText.ALERT_BTN_OK_TEXT;var f=DialogText.ALERT_BTN_CANCEL_TEXT;if(d instanceof Array&&d.length===2){e=d[0];f=d[1]}return this.customAlert({icon:'confirm',message:b,buttons:[{tag:'ok',text:e},{tag:'cancel',text:f}],click:function(a){if(c instanceof Function){c(a!='cancel')}return true}})}};(function(r){if(r){var c={dialog:window.SimpleDialog,drag:function(a,b){return new dragObject(a,b)}};r.extend(c)}})(window.$js);


$js.xhr.jsonPost =  function(url, param, success, err) {
    $jr.xhr.request(url,{form: param, method: 'POST', data: 'json' }, this._callback(success, err));
};
 /* merge js_lib_scroller.js */
function scroller(elemId, params, interval) {this.$P = null;this.$C = null;this.$L = null;this.pagePanel = null;this.index = 0;this.offset = 0;this.scroll = 0;this.scrollUnit = params.unit || 5;this.lock = false;this.direction = params.direction || 'left';this.interval = interval;this.timer = null;this.taskTimer = null;this.$P = document.getElementById(elemId);this.$P.style.cssText += 'overflow:hidden;position:relative;';var _elist = this.$P.getElementsByTagName('UL');if (_elist.length == 0) {alert('无法找到元素ID为:' + this.$P.getAttribute('id') + '下的UL元素!'); return false;} else {this.$C = _elist[0];this.$L = this.$C.getElementsByTagName('LI');}if (this.direction == 'left') {var totalWidth = 0;var width = 0;for (var i = 0; i < this.$L.length; i++) {width = this.$L[i].offsetWidth;if (width == 0) {width = this.$P.offsetWidth;}totalWidth += width;this.$L[i].style.cssText += 'float:left;width:'+width+'px';this.$L[i].setAttribute('scroll-index', i);}this.$C.style.width = totalWidth + 'px';this.pagePanel = document.getElementById(params.pagerid);if (this.pagePanel) {for (var i = 0; i < this.$L.length; i++) {var e = document.createElement("A");if (i == 0) {e.className = 'current';}e.innerHTML = (i + 1).toString();e.href = 'javascript:;';e.onclick = (function (t, _i) {return function () {t.setIndex(_i);};})(this, i);this.pagePanel.appendChild(e);}}}else if (this.direction == 'up') {this.scrollUnit = params.unit || null;this.$C.style.cssText += 'float:left';} else {alert('仅支持方向：left和up'); return false;}this._restart();}scroller.prototype.logger = function (text) {var _logger = document.getElementById('scroll-logger');if (_logger) {_logger.innerHTML = text;}};scroller.prototype._async = function () {this.index = parseInt(this.$L[0].getAttribute('scroll-index'));if (this.index == this.$L.length) {this.index = 0;}this.logger((this.index + 1) + '/' + this.$L.length);if (this.pagePanel) {var es = this.pagePanel.getElementsByTagName('A');for (var i = 0; i < es.length; i++) {es[i].className = i == this.index ? 'current' : '';}}};scroller.prototype.setIndex = function (_index) {this.lock = true;var offset = 0;var skipNum = -1;for (var i = 0; i < this.$L.length; i++) {if (parseInt(this.$L[i].getAttribute('scroll-index')) == _index) {var node = this.$L[i];this.$C.removeChild(node);this.$C.insertBefore(node, this.$L[0]);break;}}this.$C.style.marginLeft = '0px';this.index = _index;this.lock = false;this._async();this._restart();};scroller.prototype.prev = function () {if (this.lock || this.scroll > this.scrollUnit) {return false;}else {this.lock = true;var t = this;this._start(true, true, function () { t.lock = false; });}};scroller.prototype.next = function () {if (this.lock || this.scroll > this.scrollUnit) {return false;}else {this.lock = true;var t = this;this._start(!true, true, function () { t.lock = false; });}};scroller.prototype._start = function (asc, internal, call) {if (this.lock && !internal) { return false; }if (this.direction == "left") {if (!asc) {this._sc_left(call);} else {this._sc_right(call);}this._async();} else if (this.direction == "up") {this._sc_up(call);}};scroller.prototype._restart = function () {var t = this;if (this.taskTimer) {clearTimeout(this.taskTimer);}this.taskTimer = setTimeout(function () { t._start(); }, this.interval);};scroller.prototype._sc_left = function (call) {var ref = this;var _offset = ref.$L[0].offsetWidth;this.timer = setInterval(function () {if (ref.scroll == _offset) {clearInterval(ref.timer);ref.scroll = 0;var node = ref.$L[0];ref.$C.removeChild(node);ref.$C.appendChild(node);if (call) { call(); }ref._restart();ref.$C.style.marginLeft = '0px';return false;}ref.scroll += ref.scrollUnit / 10;if (ref.scroll > _offset) {ref.scroll = _offset;}ref.$C.style.marginLeft = (-ref.scroll) + 'px';}, 10);};scroller.prototype._sc_right = function (call) {var ref = this;var _offset = ref.$L[ref.$L.length - 1].offsetWidth;var node = ref.$C.lastChild;ref.$C.removeChild(node);ref.$C.insertBefore(node, ref.$L[0]);ref.scroll = -_offset;this.timer = setInterval(function () {if (ref.scroll == 0) {clearInterval(ref.timer);if (call) { call(); }ref._restart();ref.$C.style.marginLeft = '0px';return false;}ref.scroll += ref.scrollUnit / 10;if (ref.scroll > 0) {ref.scroll = 0;}ref.$C.style.marginLeft = (ref.scroll) + 'px';}, 10);};scroller.prototype._sc_up = function (call) {var ref = this;var _height = ref.$C.clientHeight;var _offset = ref.$L[0].offsetHeight;var _scroll = 0;this.timer = setInterval(function () {if (ref.scroll >= _height) {clearInterval(ref.timer);var _unit = _height / (1000 / 10 / 2);var _timer = setInterval(function () {ref.scroll -= _unit;if (ref.scroll - _unit < 0) {ref.scroll = 0;}if (ref.scroll == 0) {clearInterval(_timer);ref._restart();}ref.$P.scrollTop = ref.scroll;}, 10);return false;}if (_scroll == _offset) {clearInterval(ref.timer);ref.scroll += _scroll;ref._restart();} else {_scroll += ref.scrollUnit / 10;if (_scroll + ref.scrollUnit / 10 > _offset) {_scroll = _offset;}ref.$P.scrollTop = ref.scroll + _scroll;}}, 10);};$jr.extend({scroller: function (id, params, interval) {return new scroller(id, params, interval);}});
 /* merge cms.core.js */
var ASSETS_PATH = "/public/assets";$js.WORKPATH = "/public/assets/js/";window.jr = $js;window.j6 = $js;window.cms = $js;function ld(libName, path) {(function (j, _path) {j.xhr.get({ url: _path + libName + ".js", async: false, random: false },function (script) {j.eval(script);});})($js, path || $js.WORKPATH);}var _scripts = document.getElementsByTagName("SCRIPT");var _sloc = _scripts[_scripts.length - 1].src;var _hp = {loadUI: $js.request("ui", _sloc) == "1",hoverCList: $js.request("hover", _sloc).indexOf("clist") != -1,hoverAList: $js.request("hover", _sloc).indexOf("alist") != -1,plugins: $js.request("ld", _sloc),};var plugins = null;if (_hp.loadUI) {plugins = ["ui", "scrollbar", "scroller", "form"];} else if (_hp.plugins) {plugins = _hp.plugins.split(",");}if (plugins) {for (var i = 0; i < plugins.length; i++) {ld(plugins[i]);}}function loadIconFont() {var c = document.createElement("link");c.rel = "stylesheet";c.href = ASSETS_PATH + "/iconfont.css";document.head.appendChild(c);}var observer = new IntersectionObserver(function (changes) {changes.forEach(function (it) {if (it.isIntersecting) {var container = it.target;container.setAttribute("src", container.getAttribute("data-src"));observer.unobserve(container);}});});/** <img class="lazy" src="${page.fpath}/images/lazy_holder.gif" data-src="${page.tpath}/images/map-address.png" alt="">*/function lazyObserve() {var arr = Array.from(document.querySelectorAll(".lazy"));arr.forEach(function (item) {observer.observe(item);});}function initSwiper() {if ($js.$fn("#swiper").len() > 0) {$jr.scroller("swiper",{ direction: "left", unit: 1200, pagerid: "swiper-indicator" },4000);}if ($js.$fn("#notice-swiper").len() > 0) {$js.scroller("notice-swiper", { direction: "up", unit: 20 }, 3000);}}function initXPage() {var xs = $jr.$(".x-page");var sc = xs.find(".x-page__container");sc.attr("page", "0");var pages = sc.find(".x-page__page");if (pages.len() > 0) {pages.get(0).addClass("x-page__active");}var changePage = function (p) {var currentPage = parseInt(sc.attr("page"));pages.get(currentPage).removeClass("x-page__active");var nowPage = currentPage + p;if (nowPage < 0) {nowPage = pages.len() - 1;}if (nowPage > pages.len() - 1) {nowPage = 0;}pages.each(function (idx, p) {if (idx == nowPage) {p.addClass("x-page__active");} else {p.removeClass("x-page__active");}});sc.attr("page", nowPage);};sc.parent().find(".x-page__left").click(function () {changePage(-1);});sc.parent().find(".x-page__right").click(function () {changePage(1);});}function bindToggleTrigger(ele) {if (ele.eleList.length == 0) {console.warn("toggle元素不存在");return;}var trigger = ele.attr ? ele.attr("trigger") : "";if (!trigger) {console.error('元素未设置trigger属性,如：<div class=".toggle" trigger=".toggle-trigger"></div>');return;}$js.$(trigger).click(function () {var expand = this.hasClass("expanded");if (expand) {this.removeClass("expanded");ele.slideUp("fast", function () {ele.css({ display: "none" });});} else {this.addClass("expanded");ele.css({ display: "inherit" });ele.slideDown("fast");}this.find(".icon").attr("class",expand? "icon fa fa-bars iconfont icon-menu": "icon fa fa-close iconfont icon-cross");});}function initMobileNavigator() {var nav = $js.$fn(".toggle-navigator");var navToggle = $js.$fn(".nav-toggle");navToggle.click(function () {var expand = this.hasClass("expanded");if (expand) {this.removeClass("expanded");nav.removeClass("expanded");} else {this.addClass("expanded");nav.addClass("expanded");}this.find("i").attr("class",expand? "fa fa-bars iconfont icon-menu": "fa fa-close iconfont icon-cross");});nav.find(".toggle-navigator__mask").click(function () {nav.removeClass("expanded");navToggle.removeClass("expanded");navToggle.find("i").attr("class", "fa fa-bars iconfont icon-menu");});}loadIconFont();$js.event.add(window, "load", function () {if (_hp.hoverNavi && _auto_navigator_ele) {clearInterval(_auto_navigator_timer);}var loc = window.location.pathname;lazyObserve();initSwiper();initXPage();bindToggleTrigger($b.$(".toggle"));initMobileNavigator();var setHoverByClassName = function (e) {var lis = e.childNodes;var link;var isHovered = false;var setHover = function (_loc) {for (var i = 0; i < lis.length; i++) {if (lis[i].nodeName[0] == "#") continue;link = lis[i].getElementsByTagName("A")[0];if (link.href.indexOf(_loc) != -1) {lis[i].className +=lis[i].className.indexOf("current") == -1 ? " current" : "";isHovered = true;break;}}};setHover(loc);if (!isHovered) {var splitIndex = loc.lastIndexOf("/");if (splitIndex == loc.length - 1) {splitIndex = loc.substring(0, loc.length - 1).lastIndexOf("/");}setHover(loc.substring(0, splitIndex + 1));}};var _e_clist = document.getElementsByClassName("clist");if (_hp.hoverCList && _e_clist.length != 0) {setHoverByClassName(_e_clist[0]);}_e_clist = document.getElementsByClassName("alist");if (_hp.hoverAList && _e_clist.length != 0) {setHoverByClassName(_e_clist[0]);}$js.$fn(".tab").each(function (i, e) {var tabFN = function () {var t = this;var parent = this.parent();var active_i = -1;var active = function (e, b) {if (b) e.addClass("active");else e.removeClass("active");};parent.find(".tab").each(function (i, e) {var same = e.raw() == t.raw();if (same) active_i = i;active(e, same);});while (parent && parent.find(".frame").len() == 0) {parent = parent.parent();}parent.find(".frame").each(function (i, e) {active(e, active_i == i);});};if (e.hasClass("tab-hover") && document.documentElement.offsetWidth > 991) {e.mouseover(tabFN);} else {e.click(tabFN);}});$js.event.add(document, "scroll", function () {var scrollTop = document.documentElement.scrollTop;var header = $js.$fn(".header");if (!header.hasClass("header-nofix")) {if (scrollTop > 0) {header.addClass("header-fixed");} else {header.removeClass("header-fixed");}}var fixedArr = $js.$fn(".scroll-link");fixedArr.each(function (i, e) {var top = e.attr("offsetTop") + e.parent().attr("offsetTop");if (scrollTop > top) {if (e.css().position !== "fixed") {var left = e.attr("offsetLeft");var width = e.attr("offsetWidth");e.css({position: "fixed",top: "0",left: left + "px",width: width + "px",});e.addClass("scroll-linked");}} else {e.css({position: "unset",top: "inherit",left: "inherit",width: "inherit",});e.removeClass("scroll-linked");}});});var scrollLock = 0;$js.$fn(".scroll-to").click(function () {if (scrollLock == 1) return;scrollLock = 1;var target = this.attr("target");if (!target) throw '.scoll-top missing attribute "target"';var target = $js.$fn(target);var offset = parseInt(this.attr("offset") || 0);var y = target.attr("offsetTop") + offset;var doc = document.documentElement;var timer = setInterval(function () {var setup = (y - doc.scrollTop) / 5;setup = setup > 0 ? Math.floor(setup) : Math.ceil(setup);if (Math.abs(setup) == 0) {doc.scrollTop = y;clearInterval(timer);scrollLock = 0;} else {doc.scrollTop += setup;}}, 10);});$js.$fn(".ui-exchange").each(function (i, e) {e = e.raw();var v = null;var d = null;var f = null;var g = "exchange";switch (e.nodeName) {case "IMG":f = "src";break;default:f = "innerHTML";break;}if (f == null) return;v = e[f];d = e.getAttribute(g);if (d) {$js.event.add(e,"mouseover",(function (a, b, c) {return function () {a[b] = c;};})(e, f, d));$js.event.add(e,"mouseout",(function (a, b, c) {return function () {a[b] = c;};})(e, f, v));}});if (window.WOW && !window.wowInit) {new WOW().init();window.wowInit = true;}});/*var ele_dts = document.getElementsByClassName('autotime');var weeks = new Array('日', '一', '二', '三', '四', '五', '六');var cmath = function (v) {if (v < 10) return '0' + v;return v;};var setDate = function () {var dt = new Date();var str = cmath(dt.getFullYear()) + '年' + cmath(dt.getMonth() + 1) + '月' + cmath(dt.getDate()) + '日&nbsp;/&nbsp;周' +weeks[dt.getDay()] + '&nbsp;' + cmath(dt.getHours()) + ':' + cmath(dt.getMinutes()) + ':' + cmath(dt.getSeconds());for (var i = 0; i < ele_dts.length; i++) {ele_dts[i].innerHTML = str;}};if (ele_dts.length != 0) {setDate();setInterval(setDate, 1000);}*/